pipeline {
  agent {label 'node'}
  stages {
    stage('checkout') {
      steps {
      git branch: 'master', url: 'https://github.com/boxfuse/boxfuse-sample-java-war-hello.git'
    }
}
  
    stage ('Build') {
      steps {
      sh 'mvn clean install -Dmaven.test.skip=true'
    }
}
  
    stage ('Deploy') {
    steps {
      sh 'rsync -r /home/ubuntu/boxfuse-sample-java-war-hello/target/.*war /apache-tomcat-9.0.86/ webapps/'
      echo "deploy is successful"
    }
  }
 }
}  
